@page "/shoppackages/{shopid}"

@using Entities;
@using ShopAdmin.Data;
@inject IPackages ob;

<h3>Packages</h3>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Packages Name</th>
            <th>Packages ID</th>
            <th>Shop ID</th>
            <th>Services</th>
            <th>Price</th>
            <th>Action</th>


        </tr>
    </thead>
    @foreach (var item in listpackages)
    {
        <tr>
            <td>@item.packagename</td>
            <td>@item.packageid</td>
            <td>@item.shopid</td>
            <td>@item.services</td>
            <td>@item.price</td>
           @* <td>
                <button @onclick="()=>Delete(item.packageid)">Delete</button>
            </td>*@
        </tr>
    }
</table>





@code {
    private List<EntPackages> listpackages { get; set; } = new List<EntPackages>();
    private int id;
    protected override async Task OnInitializedAsync()
    {
        listpackages = await ob.GetPackages(id);
    }
    [Parameter]
    public string shopid
    {
        get => id.ToString();
        set
        {
            if(int.TryParse(value,out int parsed))
            {
                id = parsed;
            }
        }
    }
}
